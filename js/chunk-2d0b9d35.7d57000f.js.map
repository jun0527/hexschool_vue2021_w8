{"version":3,"sources":["webpack:///./src/views/Admin.vue","webpack:///./src/components/LogoutModal.vue","webpack:///./src/components/LogoutModal.vue?69d7","webpack:///./src/views/Admin.vue?9254"],"names":["class","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","href","ref","id","to","openModal","check","tabindex","closeModal","logOut","data","logoutModal","methods","this","show","hide","url","$http","post","then","res","success","document","cookie","$router","push","catch","mounted","$refs","modal","backdrop","keyboard","render","components","LogoutModal","checkSignIn","$swal","title","message","showConfirmButton","icon","timer","created","myCookie","replace","defaults","headers","common","Authorization"],"mappings":"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","file":"js/chunk-2d0b9d35.7d57000f.js","sourcesContent":["<template>\n  <nav class=\"nav navbar navbar-expand-md fixed-top top-0 w-100 bg-dark\">\n    <div class=\"container\">\n      <button class=\"navbar-toggler mobileMenuBtn\" type=\"button\"\n      data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\"\n      aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\"\n      aria-label=\"Toggle navigation\"><i class=\"bi bi-list\"></i>\n      </button>\n      <h1><a class=\"navbar-brand title\" href=\"#\">Pinpin</a></h1>\n      <div class=\"mobileMenu collapse navbar-collapse bg-dark\" ref=\"mobileMenu\"\n      id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-md-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/\">商品管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/orders\">訂單管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupon\">優惠券管理</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" @click.prevent=\"openModal\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n  <div class=\"wrap container\">\n    <router-view v-if=\"check\"></router-view>\n    <LogoutModal ref=\"logoutModal\"/>\n  </div>\n</template>\n\n<script>\nimport LogoutModal from '@/components/LogoutModal.vue';\n\nexport default {\n  data() {\n    return {\n      check: false,\n    };\n  },\n  components: {\n    LogoutModal,\n  },\n  methods: {\n    checkSignIn() {\n      const url = `${process.env.VUE_APP_URL}api/user/check`;\n      this.$http.post(url)\n        .then((res) => {\n          if (res.data.success) {\n            this.check = true;\n          } else {\n            this.check = false;\n            this.$router.push('/signIn');\n            this.$swal({\n              title: `${res.data.message}`,\n              showConfirmButton: false,\n              icon: 'error',\n              timer: 2000,\n            });\n          }\n        })\n        .catch(() => {\n          this.$swal({\n            title: '網頁發生錯誤，請重新整理此頁面！',\n            showConfirmButton: false,\n            icon: 'error',\n            timer: 2000,\n          });\n        });\n    },\n    openModal() {\n      this.$refs.logoutModal.openModal();\n    },\n  },\n  created() {\n    const myCookie = document.cookie.replace(/(?:(?:^|.*;\\s*)vue2021_w7\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.$http.defaults.headers.common.Authorization = myCookie;\n    this.checkSignIn();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\" tabindex=\"-1\"  ref=\"modal\">\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header bg-dark\">\n          <h5 class=\"modal-title text-white\">登出確認</h5>\n          <button type=\"button\" class=\"btn-close btn-close-white\"\n          @click=\"closeModal\"></button>\n      </div>\n        <div class=\"modal-body\">\n          <p>確定要登出？</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-dark\" @click=\"closeModal\">取消</button>\n        <button type=\"button\" class=\"btn btn-danger\" @click=\"logOut\">登出</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Modal } from 'bootstrap';\nimport swal from 'sweetalert';\n\nexport default {\n  data() {\n    return {\n      logoutModal: {},\n    };\n  },\n  methods: {\n    openModal() {\n      this.logoutModal.show();\n    },\n    closeModal() {\n      this.logoutModal.hide();\n    },\n    logOut() {\n      const url = `${process.env.VUE_APP_URL}logout`;\n      this.$http.post(url)\n        .then((res) => {\n          if (res.data.success) {\n            swal('登出成功！');\n            document.cookie = 'vue2021_w7=\"\";';\n            this.closeModal();\n            this.$router.push('/signIn');\n          } else {\n            swal('登出失敗！');\n          }\n        })\n        .catch(() => {\n          swal('網頁發生錯誤，請重新整理此頁面！');\n        });\n    },\n  },\n  mounted() {\n    this.logoutModal = new Modal(this.$refs.modal, { backdrop: 'static', keyboard: false });\n  },\n};\n</script>\n","import { render } from \"./LogoutModal.vue?vue&type=template&id=97775f84\"\nimport script from \"./LogoutModal.vue?vue&type=script&lang=js\"\nexport * from \"./LogoutModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Admin.vue?vue&type=template&id=e2c6503a\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}